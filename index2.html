<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <!-- Mobile meta tags -->
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, viewport-fit=cover" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="format-detection" content="telephone=no">
  <meta name="theme-color" content="#ffffff">
  <title>Dashboard with Modal</title>
  <meta name="description" content="Dashboard with Modal">
  <meta name="keywords" content="bootstrap 4, modal, prayer, islamic" />

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="assets/img/favicon/favicon2.png" sizes="32x32">
  <link rel="apple-touch-icon" href="assets/img/favicon/favicon2.png">

  <!-- Normalize CSS -->
  <link rel="stylesheet" href="assets/css/normalize.css">
  
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="assets/css/bootstrap.min.css">
  
  <!-- Icon & Remixicon -->
  <link rel="stylesheet" href="assets/css/icons.css">
  <link rel="stylesheet" href="assets/css/remixicon.css">
  
  <!-- Owl Carousel & Swiper -->
  <link rel="stylesheet" href="assets/css/owl.carousel.min.css">
  <link rel="stylesheet" href="assets/css/swiper-bundle.min.css">
  
  <!-- CSS Utama -->
  <link rel="stylesheet" href="assets/css/main.css">

  <link rel="manifest" href="_manifest.json"/>

  <style>
    /* ====== BODY & GLOBAL ====== */
    body {
      background-color: #F2F6FC;
      margin: 0;
      padding: 0;
      padding-bottom: 60px; /* Ruang untuk footer */
      font-family: 'Arial', sans-serif;
      color: #000;
    }
    body.dark-mode {
      background-color: #1E1F29;
      color: #FFF;
    }

    /* ====== HEADER ====== */
    .header-sticky.multi_item {
      position: sticky;
      top: 0;
      z-index: 999;
      background-color: #003B73;
      padding: 5px 15px;
      text-align: center;
    }
    .header-sticky.multi_item .header-title {
      color: #fff;
      margin: 0;
      font-size: 18px;
      font-weight: 600;
    }
    .main_haeder {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 60px;
      background-color: #f8f9fa;
    }
    .header-title {
      margin: 0;
    }
    body.dark-mode .header-sticky.multi_item {
      background-color: #141627;
    }

    /* ====== TOP INFO (Lokasi & Tanggal) ====== */
    .top-info {
      background-color: #003B73;
      padding: 5px 15px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    body.dark-mode .top-info {
      background-color: #141627;
    }
    .location-bubble {
      background-color: #1F3B2E;
      padding: 6px 12px;
      border-radius: 20px;
      display: inline-flex;
      align-items: center;
    }
    body.dark-mode .location-bubble {
      background-color: #2a4c3a;
    }
    .location-bubble i {
      margin-right: 5px;
      font-size: 16px;
      color: #FFC107;
    }
    .location-bubble span {
      font-size: 14px;
      color: #fff;
    }
    .date-info {
      display: flex;
      flex-direction: column;
      align-items: flex-end;
    }
    .masehi-date,
    .hijri-date {
      font-size: 14px;
    }
    .masehi-date {
      color: #fff;
      opacity: 0.7;
      font-weight: 400;
    }
    .hijri-date {
      color: #fff;
      font-weight: 700;
    }

    /* ====== BANNER SECTION ====== */
    .banner-section img {
      width: 100%;
      display: block;
    }

    /* ====== ALL FEATURES SECTION ====== */
    .all-features {
      background-color: #FFFFFF;
      padding: 20px 15px;
    }
    body.dark-mode .all-features {
      background-color: #24263C;
    }
    .features-row {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 30px;
      flex-wrap: wrap;
    }
    .feature-item {
      text-align: center;
      flex: 0 0 calc(50% - 30px);
      margin-bottom: 20px;
      box-sizing: border-box;
    }
    @media (min-width: 768px) {
      .feature-item {
        flex: 0 0 calc(20% - 30px);
      }
    }
    .feature-icon {
      width: 50px;
      height: 50px;
      background-color: #003B73;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 5px;
      color: #FFFFFF;
      font-size: 22px;
    }
    body.dark-mode .feature-icon {
      background-color: #1B1D2A;
    }
    .feature-title {
      font-size: 14px;
      color: #003B73;
      margin: 0;
    }
    body.dark-mode .feature-title {
      color: #fff;
    }

    /* ====== DARK/LIGHT MODE CARD ====== */
    .darkmode-card {
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.05);
      padding: 15px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin: 20px 15px;
    }
    body.dark-mode .darkmode-card {
      background: #24263C;
      box-shadow: none;
    }
    .darkmode-info h5 {
      margin: 0;
      font-size: 16px;
      font-weight: 600;
      color: #000;
    }
    .darkmode-info p {
      margin: 0;
      font-size: 14px;
      color: #666;
    }
    body.dark-mode .darkmode-info h5 {
      color: #fff;
    }
    body.dark-mode .darkmode-info p {
      color: #ccc;
    }
    .toggle-btn {
      display: inline-block;
      background: #ccc;
      border-radius: 20px;
      width: 50px;
      height: 25px;
      position: relative;
      cursor: pointer;
      flex-shrink: 0;
    }
    .toggle-circle {
      background: #fff;
      width: 23px;
      height: 23px;
      border-radius: 50%;
      position: absolute;
      top: 1px;
      left: 1px;
      transition: all 0.3s ease;
    }
    .toggle-btn.active {
      background: #003B73;
    }
    .toggle-btn.active .toggle-circle {
      left: 26px;
    }

    /* ====== FOOTER SEDERHANA ====== */
    .emSimple_main_footer {
      background-color: #fff;
      padding: 20px;
      text-align: center;
    }
    body.dark-mode .emSimple_main_footer {
      background-color: #141627;
      color: #fff;
    }
    .emSimple_main_footer,
    .emSimple_main_footer * {
      border: none !important;
    }
    body.dark-mode .bg-white {
      background-color: #141627 !important;
      color: #fff !important;
    }

    /* ====== NAVIGATION BAR (BOTTOM) ====== */
    .em_main_footer.ouline_footer.with__text {
      background-color: #003B73;
      padding: 8px 0;
      width: 100%;
      position: relative;
    }
    body.dark-mode .em_main_footer.ouline_footer.with__text {
      background-color: #141627;
    }
    .em_body_navigation {
      display: flex;
      justify-content: space-evenly;
      align-items: center;
      width: 100%;
      margin: 0;
    }
    .em_body_navigation .item_link {
      flex: 1;
      text-align: center;
      position: relative;
    }
    .em_body_navigation .btn_navLink {
      text-decoration: none;
      color: #ffffff;
      display: flex;
      flex-direction: column;
      align-items: center;
      transition: color 0.3s ease;
      font-size: 12px;
      position: relative;
      overflow: hidden;
    }
    .em_body_navigation .btn_navLink:hover {
      color: #d1e0f0;
    }
    .em_body_navigation .icon_current svg {
      width: 24px;
      height: 24px;
    }
    .items_basket_circle {
      position: absolute;
      top: 0;
      right: 40%;
      background: #FF0000;
      color: #fff;
      border-radius: 50%;
      font-size: 10px;
      width: 18px;
      height: 18px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    /* Animasi ripple di link nav */
    .btn_navLink.rippleCircle::before {
      content: "";
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0);
      width: 120px;
      height: 120px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.3);
      opacity: 0;
      pointer-events: none;
      transition: transform 0.5s ease, opacity 0.5s ease;
    }
    .btn_navLink.rippleCircle:hover::before {
      transform: translate(-50%, -50%) scale(1);
      opacity: 1;
    }

    /* ====== MODAL CUSTOM STYLE ====== */
    .modal-content {
      border-radius: 12px;
      overflow: hidden;
    }
    .modal-header {
      border: none;
    }
    .modal-header .close {
      outline: none;
    }
    body.dark-mode .padding-t-10.padding-b-10 {
      background-color: #24263C;
      color: #fff;
    }

    /* Hilangkan underline & animasi hover di modal link */
    .no-underline {
      text-decoration: none !important;
      color: inherit !important;
    }
    .no-underline:hover,
    .no-underline:focus,
    .no-underline:active {
      text-decoration: none !important;
      color: inherit !important;
      background: transparent !important;
      transform: none !important;
    }
  </style>
</head>
<body>
  <div id="wrapper">
    <!-- HEADER -->
    <header class="main_haeder header-sticky multi_item">
      <h3 class="header-title">DASHBOARD</h3>
    </header>

    <!-- TOP INFO -->
    <section class="top-info">
      <div class="location-bubble">
        <i class="ri-map-pin-line"></i>
        <span id="user-location">Determining location...</span>
      </div>
      <div class="date-info">
        <span class="masehi-date">Loading date...</span>
        <span class="hijri-date"></span>
      </div>
    </section>

    <!-- BANNER -->
    <section class="banner-section">
      <img src="assets/img/banner-out-kita-berbagi-community.png" alt="Banner Komunitas">
    </section>

    <!-- ALL FEATURES -->
    <div id="content">
      <section class="all-features">
        <div class="features-row">
          <!-- Feature 1: Jadwal Sholat -->
          <a href="JadwalSholat/jadwal.html" style="text-decoration:none;">
            <div class="feature-item">
              <div class="feature-icon">
                <i class="ri-time-fill"></i>
              </div>
              <p class="feature-title">Jadwal Sholat</p>
            </div>
          </a>
          <!-- Feature 2: Al-Quran -->
          <a href="Alquran/index.html" style="text-decoration:none;">
            <div class="feature-item">
              <div class="feature-icon">
                <i class="ri-book-fill"></i>
              </div>
              <p class="feature-title">Al-Quran</p>
            </div>
          </a>
          <!-- Feature 3: Hadis -->
          <a href="Hadist/index.html" style="text-decoration:none;">
            <div class="feature-item">
              <div class="feature-icon">
                <i class="ri-book-2-fill"></i>
              </div>
              <p class="feature-title">Hadis</p>
            </div>
          </a>
          <!-- Feature 4: Doa -->
          <a href="Doa/index.html" style="text-decoration:none;">
            <div class="feature-item">
              <div class="feature-icon">
                <i class="ri-hand-heart-fill"></i>
              </div>
              <p class="feature-title">Doa</p>
            </div>
          </a>
          <!-- Feature 5: Other -->
          <a href="javascript:void(0);" data-toggle="modal" data-target="#mdllOthers" style="text-decoration:none;">
            <div class="feature-item">
              <div class="feature-icon">
                <i class="ri-compass-3-fill"></i>
              </div>
              <p class="feature-title">Other</p>
            </div>
          </a>
        </div>
      </section>

      <!-- DARK/LIGHT MODE CARD -->
      <div class="darkmode-card">
        <div class="darkmode-info">
          <h5>Dark Mode</h5>
          <p>Browsing in night mode</p>
        </div>
        <div class="toggle-btn" id="themeToggle">
          <div class="toggle-circle"></div>
        </div>
      </div>

      <!-- FOOTER -->
      <main class="emPage__public">
        <section class="emSimple_main_footer margin-t-10 bg-white d-flex justify-content-center text-center padding-20">
          <div class="padding-t-10 padding-b-10">
            <a href="index2.html" class="brand_sm margin-b-20 d-block">
              <img src="KitaBerbagiCommunity/kitaberbagi-community-logo-pjg.png" alt="">
            </a>
            <h3 class="size-13 weight-400 color-secondary margin-b-10">
              Copyright Â© Kita Berbagi Community 2025. All Rights Reserved.
            </h3>
            <p class="size-12 color-text margin-b-20">
              Kita Berbagi Community adalah komunitas berbagi kebaikan sesama umat manusia.
            </p>
            <div class="itemNetworks mt-2">
              <a href="#" class="btn facebook">
                <img src="assets/img/icon/facebook.svg" alt="">
              </a>
              <a href="#" class="btn instagram">
                <img src="assets/img/icon/instagram.svg" alt="">
              </a>
              <a href="#" class="btn youtube">
                <img src="assets/img/icon/youtube.svg" alt="">
              </a>
              <a href="#" class="btn twitter">
                <i class="ri-twitter-fill color-twitter"></i>
              </a>
              <button type="button" class="btn share" data-toggle="modal" data-target="#mdllButtons_share">
                <i class="ri-share-forward-box-line color-green"></i>
              </button>
            </div>
            <div class="link_privacy">
              <a href="#" class="btn">Privacy Policy</a>
              <a href="#" class="btn">Terms of Uses</a>
            </div>
          </div>
        </section>
      </main>
    </div>
  </div>

  <!-- MODAL "Other" -->
  <div class="modal fade" id="mdllOthers" tabindex="-1" role="dialog" aria-labelledby="mdllOthersLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <!-- Header Modal -->
        <div class="modal-header">
          <h5 class="modal-title" id="mdllOthersLabel">More Ramadan Features</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="outline: none;">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <!-- Body Modal -->
        <div class="modal-body">
          <div class="container">
            <div class="row justify-content-center">
              <!-- Kiblat -->
              <div class="col-6 col-md-4 col-lg-2 text-center mb-3">
                <a href="ramadan/kiblat.html" class="d-block no-underline">
                  <div 
                    class="icon bg-secondary mx-auto d-flex align-items-center justify-content-center" 
                    style="width:50px; height:50px; border-radius:10px;"
                  >
                    <i class="ri-compass-3-fill" style="color:#fff; font-size:22px;"></i>
                  </div>
                  <span style="font-size:12px;">Kiblat</span>
                </a>
              </div>
              <!-- Jadwal Sholat -->
              <div class="col-6 col-md-4 col-lg-2 text-center mb-3">
                <a href="JadwalSholat/jadwal.html" class="d-block no-underline">
                  <div 
                    class="icon bg-green mx-auto d-flex align-items-center justify-content-center" 
                    style="width:50px; height:50px; border-radius:10px;"
                  >
                    <i class="ri-time-fill" style="color:#fff; font-size:22px;"></i>
                  </div>
                  <span style="font-size:12px;">Sholat</span>
                </a>
              </div>
              <!-- Doa -->
              <div class="col-6 col-md-4 col-lg-2 text-center mb-3">
                <a href="Doa/index.html" class="d-block no-underline">
                  <div 
                    class="icon bg-primary mx-auto d-flex align-items-center justify-content-center" 
                    style="width:50px; height:50px; border-radius:10px;"
                  >
                    <i class="ri-hand-heart-fill" style="color:#fff; font-size:22px;"></i>
                  </div>
                  <span style="font-size:12px;">Doa</span>
                </a>
              </div>
              <!-- Zakat -->
              <div class="col-6 col-md-4 col-lg-2 text-center mb-3">
                <a href="ramadan/zakat.html" class="d-block no-underline">
                  <div 
                    class="icon bg-info mx-auto d-flex align-items-center justify-content-center" 
                    style="width:50px; height:50px; border-radius:10px;"
                  >
                    <i class="ri-wallet-3-line" style="color:#fff; font-size:22px;"></i>
                  </div>
                  <span style="font-size:12px;">Zakat</span>
                </a>
              </div>
              <!-- Kalender -->
              <div class="col-6 col-md-4 col-lg-2 text-center mb-3">
                <a href="Hijriah/index.html" class="d-block no-underline">
                  <div 
                    class="icon bg-pink mx-auto d-flex align-items-center justify-content-center" 
                    style="width:50px; height:50px; border-radius:10px;"
                  >
                    <i class="ri-calendar-2-fill" style="color:#fff; font-size:22px;"></i>
                  </div>
                  <span style="font-size:12px;">Kalender</span>
                </a>
              </div>
              <!-- Al-Qur'an -->
              <div class="col-6 col-md-4 col-lg-2 text-center mb-3">
                <a href="Alquran/index.html" class="d-block no-underline">
                  <div 
                    class="icon bg-red mx-auto d-flex align-items-center justify-content-center" 
                    style="width:50px; height:50px; border-radius:10px;"
                  >
                    <i class="ri-book-fill" style="color:#fff; font-size:22px;"></i>
                  </div>
                  <span style="font-size:12px;">Al-Qur'an</span>
                </a>
              </div>
            </div><!-- row -->
          </div><!-- container -->
        </div><!-- .modal-body -->
      </div><!-- .modal-content -->
    </div><!-- .modal-dialog -->
  </div><!-- .modal.fade -->

  <!-- NAVIGATION BAR BAWAH -->
  <footer class="em_main_footer ouline_footer with__text">
    <div class="em_body_navigation">
      <div class="item_link">
        <a href="Hijriah/index.html" class="btn_navLink rippleCircle">
          <div class="icon_current">
            <i class="ri-calendar-line" style="font-size:24px;"></i>
          </div>
          <div class="txt__tile">Calendar</div>
        </a>
      </div>
      <div class="item_link">
        <a href="index2.html" class="btn_navLink without_active rippleCircle">
          <div class="icon_current">
            <i class="ri-home-4-line" style="font-size:24px;"></i>
          </div>
          <div class="txt__tile">Home</div>
        </a>
      </div>
      <div class="item_link">
        <a href="#" class="btn_navLink rippleCircle">
          <div class="icon_current">
            <i class="ri-settings-4-line" style="font-size:24px;"></i>
          </div>
          <div class="txt__tile">Settings</div>
        </a>
      </div>
    </div>
  </footer>

  <!-- JAVASCRIPT: jQuery, Popper, Bootstrap 4 -->
  <script src="assets/js/jquery-3.6.0.js"></script>
  <script src="assets/js/popper.min.js"></script>
  <script src="assets/js/bootstrap.min.js"></script>
  <script src="assets/js/vendor/owl.carousel.min.js"></script>
  <script src="assets/js/vendor/swiper-bundle.min.js"></script>
  <script src="assets/js/vendor/sharer.js"></script>
  <script src="assets/js/vendor/short-and-sweet.min.js"></script>
  <script src="assets/js/vendor/jquery.knob.min.js"></script>
  <script src="assets/js/main.js"></script>
  <!-- <script src="assets/js/pwa-services.js"></script> -->

  <script>
    // Fungsi format tanggal Masehi
    function formatDate(date) {
      const options = { day: 'numeric', month: 'long', year: 'numeric' };
      return date.toLocaleDateString('en-US', options);
    }
    // Fungsi konversi Gregorian ke Hijri (perkiraan)
    function gregorianToHijri(gDate) {
      let day = gDate.getDate();
      let month = gDate.getMonth() + 1;
      let year = gDate.getFullYear();
      let a = Math.floor((14 - month) / 12);
      let y = year + 4800 - a;
      let m = month + 12 * a - 3;
      let jd = day + Math.floor((153 * m + 2) / 5) + 365 * y +
               Math.floor(y / 4) - Math.floor(y / 100) + Math.floor(y / 400) - 32045;
      let l = jd - 1948440 + 10632;
      let n = Math.floor((l - 1) / 10631);
      l = l - 10631 * n + 354;
      let j = (Math.floor((10985 - l) / 5316)) * (Math.floor((50 * l) / 17719)) +
              (Math.floor(l / 5670)) * (Math.floor((43 * l) / 15238));
      l = l - (Math.floor((30 - j) / 15)) * (Math.floor((17719 * j) / 50)) -
          (Math.floor(j / 16)) * (Math.floor((15238 * j) / 43)) + 29;
      let hijriMonth = Math.floor((24 * l) / 709);
      let hijriDay = l - Math.floor((709 * hijriMonth) / 24);
      let hijriYear = 30 * n + j - 30;
      return { day: hijriDay, month: hijriMonth, year: hijriYear };
    }
    const hijriMonths = [
      "Muharram", "Safar", "Rabi'ul Awal", "Rabi'ul Akhir",
      "Jumadil Awal", "Jumadil Akhir", "Rajab", "Sha'ban",
      "Ramadan", "Shawwal", "Dhu al-Qidah", "Dhu al-Hijjah"
    ];
    function formatHijri(date) {
      const hDate = gregorianToHijri(date);
      return hDate.day + " " + hijriMonths[hDate.month - 1] + ", " + hDate.year;
    }

    // Tampilkan Tanggal Masehi & Hijriyah
    const today = new Date();
    document.querySelector(".masehi-date").textContent = formatDate(today);
    document.querySelector(".hijri-date").textContent = formatHijri(today);

    // Geolocation untuk Lokasi
    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(function(position) {
        const lat = position.coords.latitude;
        const lon = position.coords.longitude;
        fetch(`https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${lat}&lon=${lon}`)
          .then(response => response.json())
          .then(data => {
            const city = data.address.city || data.address.town || data.address.village || 'Unknown location';
            document.getElementById("user-location").innerText = city;
          })
          .catch(error => {
            console.error('Reverse geocoding error:', error);
            document.getElementById("user-location").innerText = "Location unavailable";
          });
      }, function(error) {
        console.error('Geolocation error:', error);
        document.getElementById("user-location").innerText = "Location denied";
      });
    } else {
      document.getElementById("user-location").innerText = "Geolocation not supported";
    }

    // Toggle Dark/Light Mode
    const themeToggle = document.getElementById('themeToggle');
    themeToggle.addEventListener('click', () => {
      themeToggle.classList.toggle('active');
      document.body.classList.toggle('dark-mode');
    });
  </script>
</body>
</html>
